# 装维费

# 我的思路

## 步骤1	

​	核心是根据首次通话时间（A）和装维月结日（B）的关系：

​	A < B	收10块	然后把该分机和账期 和 是否统计(YES) 记录到 ucZWFeeRecord 中

​	A > B	收0块，	然后把该分机和账期 和 是否统计(NO)  记录到 ucZWFeeRecord 中

## 步骤2

决定是否收装维费之前，先查 ucZWFeeRecord 	

​	如果该分机收过了，该值为0

​	如果该分机没有收过，该值为装维费

如果表中没有记录，则要走 **步骤1**

# 祖宏的思路

 	1. 默认置为0
 	2. 如果没有统计过或者是否统计过的值为false
 	3. 判断 A < B 是否成立，成立的话走后面的流程
 	4. 不成立的话什么也不做

```java
//装维费(当月25日及之前准统装维费、25日之后的则在下月进行统计)
            pointExtensionDetail.setZwFee(0.00);
            Boolean isZwStatistics = maps.get(pointExtensionDetail.getExtension());
            if (isZwStatistics == null || !isZwStatistics) {
                if (pointExtensionDetail.getFirstCall() != null) {
                    int zwDay = zwMonStatementVO.getDay();
                    Long currentTime = TimeUtil.getCurrentTime(zwDay);
                    Long firstCall = pointExtensionDetail.getFirstCall();
                    if (firstCall <= currentTime) {
                        pointExtensionDetail.setZwFee(zwFeeTConstant);
                        zwFeeRecordList.add(new ZWFeeRecord(pointExtensionDetail.getExtension(),true,pointExtensionDetail.getAccountPeriod()));
                    }	//我觉得这个还应该加个else 把是否统计的值设置为false
                }
            }
```

