# 获取so库

在/usr/local/lib中，可以找到Tess4J需要的依赖库libtesseract.so。可见libtesseract.so实际指向libtesseract.so.4.0.0。liblept.so是leptonica的库，Tesseract也需要调用。

这是应该要有的库

![获取so库](D:\我的文档\预研OCR图片识别文字\images\获取so库.png)



我的so库列表中少了tesseract的库，这说明了没有安装到，按照那个模板重新安装一遍



# 问题1

onfigure.ac:10: error: possibly undefined macro: m4_esyscmd_s
​      If this token and others are legitimate, please use m4_pattern_allow.
​      See the Autoconf documentation.

  Something went wrong, bailing out!

## 尝试解决方案：

### 	1. 使用pkg-config

​		如果要使用的话免不了是先要去安装的

​	安装的时候就出现了第一个问题：

<https://stackoverflow.com/questions/12262925/linux-glib-needs-pkg-config-and-pkg-config-needs-glib>

解决方案是写这样的一条命令：

​	[root@gzb pkg-config-0.29.2]# ./configure --with-internal-glib

​	这样就可以解决安装pkg-config的时候的依赖问题

<https://blog.csdn.net/qq_24038207/article/details/81428414>

这个地址有比较完整的安装，但问题是执行install make的时候出错，不知道是否有影响

<https://amon.org/pkgconfig>

这篇文章好像更加全面和准确

​	查看了一下发现安装的版本不对，我安装的是0.29但是查看系统安装的却是0.23。这说明我们的服务器是有这个pkg-config的，所以错误的原因是这个脚本指定的pkg-config的位置的不对的。

rpm -ql pkgconfig
/usr/bin/pkg-config
/usr/lib64/pkgconfig
/usr/share/aclocal/pkg.m4
/usr/share/doc/pkgconfig-0.23
/usr/share/doc/pkgconfig-0.23/AUTHORS
/usr/share/doc/pkgconfig-0.23/COPYING
/usr/share/doc/pkgconfig-0.23/NEWS
/usr/share/doc/pkgconfig-0.23/README
/usr/share/man/man1/pkg-config.1.gz
/usr/share/pkgconfig

现在的关键就是怎样配置pkg-config相关的变量信息的问题了

# 问题2：

运行 ./autogen.sh 报错

unittest/Makefile.am:248: variable `EXTRA_apiexample_test_DEPENDENCIES' is defined but no program or
unittest/Makefile.am:248: library has `EXTRA_apiexample_test' as canonical name (possible typo)
Running autoconf
configure.ac:10: error: possibly undefined macro: m4_esyscmd_s
​      If this token and others are legitimate, please use m4_pattern_allow.
​      See the Autoconf documentation.

  Something went wrong, bailing out!

### 解决方案

 报错是因为机器少 automake autoconf libtool . 
  sudo yum install automake autoconf libtool 即可解决

不是这个原因，我的电脑上已经装了，还是要继续挖掘

上网查了一下说的这些软件的版本太低了 要重新装一遍，这个我先回家试一试，然后跟运维讨论一下这个问题吧





./configure: line 3547: AX_SPLIT_VERSION: command not found
./configure: line 3548: s/^[^0-9]*//: No such file or directory
./configure: line 3550: s/^\([0-9][0-9]*\).*/\1/: No such file or directory
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
./configure: line 3787: syntax error near unexpected token `-mavx,'
./configure: line 3787: `AX_CHECK_COMPILE_FLAG(-mavx, avx=true, avx=false)'
make: *** No targets specified and no makefile found.  Stop.
make: *** No rule to make target `install'.  Stop.
ldconfig: /home/vos/lib64/libfdfsclient.so is not a symbolic link

ldconfig: /home/vos/lib64/libmongocxx.so._noabi is not a symbolic link