# 1.关系

## 	引用关系

​		嵌套关系就不提了，用引用的方法的话效率更高

​		这种方法是需要查询两次的，先查Id，再用这些id去查这些id对应的信息。



# 2.覆盖索引查询

​	覆盖查询是以下的查询：

​	1.所有的查询字段是索引的一部分。

​	2.所有的查询返回字段在同一个索引中。

由于所有出现在查询中的字段是索引的一部分，MongDB无需在整个数据文档中检索匹配查询条件和返回使用相同索引的查询结果。

**因为索引存在于 RAM中，从索引中获取数据比通过扫描文档读取数据快得多。**

## 使用：

​	为了测试覆盖索引查询，使用以下 users 集合:

```javascript
{
   "_id": ObjectId("53402597d852426020000002"),
   "contact": "987654321",
   "dob": "01-01-1991",
   "gender": "M",
   "name": "Tom Benzamin",
   "user_name": "tombenzamin"
}
```

我们在 users 集合中创建联合索引，字段为 gender 和 user_name :

```javascript
>db.users.ensureIndex({gender:1,user_name:1})
```



**也就是说，对于上述查询，mgDB不会去数据库文件中查找**。相反，它会从索引中提取数据，这是非常快速的数据查询。