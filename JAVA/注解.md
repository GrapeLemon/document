# 元注解

## @Rentention

​	保留期

RetentionPolicy.SOURCE 注解只在源码阶段保留，在编译器进行编译时它将被丢弃忽视。

RetentionPolicy.CLASS 注解只被保留到编译进行的时候，它并不会被加载到 JVM 中。

RetentionPolicy.RUNTIME 注解可以保留到程序运行的时候，它会被加载进入到 JVM 中，所以在程序运行时可以获取到它们。



## @Target

​	注解用在什么地方

​	想要知道有什么类型去 **ElementType** 上面查（不过里面有一些内容还是不太清楚，看到再去理解）

## @Inherited

​	继承。假设一个注解（自定义注解通称为注解）上用了这个元注解，然后用这个注解标志超类，如果其子类上没有任何注解的话，这个子类就继承了超类的注解。（也就是继承了这些自定义注解）

这样做的好处给我的直观感受就是代码简洁了，但是不习惯的人容易想不通。

## @Documented

​	能够将注解中的元素包含到Javadoc中去。（讲道理我对java文档的重视程度好像还是不够，也就是说我好像还是不够注意文档）

## @Repeatable

​	JDK8才进来的东西，感觉不用多想。估计用这个的框架还不多

# 自定义注解

注解通过 `@interface`关键字进行定义。

```java
public @interface TestAnnotation {
}
```



# 注解的属性

​	注解的属性也叫做成员变量。注解只有成员变量，没有方法。

​	形式：**无形参的方法**，这个一定要熟悉！之前就是因为惯性思维导致接受不了 -> 理解不了 -> 记忆不了

​	其方法名定义了该成员变量的名字，其返回值定义了该成员变量的类型。

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
public @interface TestAnnotation {
	
	int id();
	
	String msg();

}
```



## 如何赋值

```java
@TestAnnotation(id=3,msg="hello annotation")
public class Test {
}
```

## 属性的类型

​	8种基本类型 + 类、接口、注解 以及它们的数组

## 属性的默认值

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
public @interface TestAnnotation {
	public int id() default -1;	
	public String msg() default "Hi";
}

```

它可以这样应用

```java
@TestAnnotation()
public class Test {}
```

## 特殊情况

另外，还有一种情况。**如果一个注解内只有一个名为  value 的属性时，可以直接写属性值而不用写名字。

```java
public @interface Check {
	String value();
}
@Check("hi")
int a;
```



还有一种情况是没有属性的注解。

```java
public @interface Perform {}
```

用的时候可以省略括号

```
@Perform
public void testMethod(){}
```

